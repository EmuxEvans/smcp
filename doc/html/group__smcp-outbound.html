<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>smcp: Outbound Message Composing API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">smcp
   </div>
   <div id="projectbrief">A Portable Light-weight CoAP Stack</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Outbound Message Composing API<div class="ingroups"><a class="el" href="group__smcp.html">SMCP</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>These functions are for constructing outbound CoAP messages from an SMCP callback.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga650169bd4418a5b6734be7acfb09d1d6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga650169bd4418a5b6734be7acfb09d1d6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SMCP_MSG_SKIP_DESTADDR</b>&#160;&#160;&#160;(1&lt;&lt;0)</td></tr>
<tr class="separator:ga650169bd4418a5b6734be7acfb09d1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a72b32f99f940b866f2e6d88081cee2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1a72b32f99f940b866f2e6d88081cee2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SMCP_MSG_SKIP_AUTHORITY</b>&#160;&#160;&#160;(1&lt;&lt;1)</td></tr>
<tr class="separator:ga1a72b32f99f940b866f2e6d88081cee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ce5ea7c9d4b94433ffde87bb39f18fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4ce5ea7c9d4b94433ffde87bb39f18fa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SMCP_MSG_SKIP_PATH</b>&#160;&#160;&#160;(1&lt;&lt;2)</td></tr>
<tr class="separator:ga4ce5ea7c9d4b94433ffde87bb39f18fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0331c5d970faa8abf15e55eb7b31da40"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0331c5d970faa8abf15e55eb7b31da40"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SMCP_MSG_SKIP_QUERY</b>&#160;&#160;&#160;(1&lt;&lt;3)</td></tr>
<tr class="separator:ga0331c5d970faa8abf15e55eb7b31da40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b34104086af4b3b6e52743ff6949c7c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4b34104086af4b3b6e52743ff6949c7c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>smcp_outbound_set_content_formatted_const</b>(fmt,...)&#160;&#160;&#160;<a class="el" href="group__smcp-outbound.html#ga7d18a5a26b2f9f99fc8c87fb4e6759b8">smcp_outbound_set_content_formatted</a>(fmt,__VA_ARGS__)</td></tr>
<tr class="separator:ga4b34104086af4b3b6e52743ff6949c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaef61a40277cb1796c1466931770f79ae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaef61a40277cb1796c1466931770f79ae"></a>
SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#gaef61a40277cb1796c1466931770f79ae">smcp_outbound_begin</a> (<a class="el" href="structsmcp__s.html">smcp_t</a> self, coap_code_t code, coap_transaction_type_t tt)</td></tr>
<tr class="memdesc:gaef61a40277cb1796c1466931770f79ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the outbound packet as a request. <br/></td></tr>
<tr class="separator:gaef61a40277cb1796c1466931770f79ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5947f37f67c15d026748eddde7a7f06a"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#ga5947f37f67c15d026748eddde7a7f06a">smcp_outbound_begin_response</a> (coap_code_t code)</td></tr>
<tr class="memdesc:ga5947f37f67c15d026748eddde7a7f06a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the outbound packet as a response to the current inbound packet.  <a href="#ga5947f37f67c15d026748eddde7a7f06a">More...</a><br/></td></tr>
<tr class="separator:ga5947f37f67c15d026748eddde7a7f06a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa5bb2686c6191c8dc487778a9b9a439"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaaa5bb2686c6191c8dc487778a9b9a439"></a>
SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#gaaa5bb2686c6191c8dc487778a9b9a439">smcp_outbound_set_code</a> (coap_code_t code)</td></tr>
<tr class="memdesc:gaaa5bb2686c6191c8dc487778a9b9a439"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the code on the current outbound packet. <br/></td></tr>
<tr class="separator:gaaa5bb2686c6191c8dc487778a9b9a439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7e84fb9ebff8b14a8c947e036c8b5bd"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#gaf7e84fb9ebff8b14a8c947e036c8b5bd">smcp_outbound_set_destaddr</a> (const <a class="el" href="structsmcp__sockaddr__t.html">smcp_sockaddr_t</a> *sockaddr)</td></tr>
<tr class="memdesc:gaf7e84fb9ebff8b14a8c947e036c8b5bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the destination address and port.  <a href="#gaf7e84fb9ebff8b14a8c947e036c8b5bd">More...</a><br/></td></tr>
<tr class="separator:gaf7e84fb9ebff8b14a8c947e036c8b5bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga173aeb66d286e557a67cc81cd7c45fba"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#ga173aeb66d286e557a67cc81cd7c45fba">smcp_outbound_add_option</a> (<a class="el" href="group__coap.html#ga7fdbb66204b4278300589317c30f88e4">coap_option_key_t</a> key, const char *value, coap_size_t len)</td></tr>
<tr class="memdesc:ga173aeb66d286e557a67cc81cd7c45fba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the given option to the outbound packet.  <a href="#ga173aeb66d286e557a67cc81cd7c45fba">More...</a><br/></td></tr>
<tr class="separator:ga173aeb66d286e557a67cc81cd7c45fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f7f81a16d347bb9917f3dfba2b16167"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3f7f81a16d347bb9917f3dfba2b16167"></a>
SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#ga3f7f81a16d347bb9917f3dfba2b16167">smcp_outbound_add_option_uint</a> (<a class="el" href="group__coap.html#ga7fdbb66204b4278300589317c30f88e4">coap_option_key_t</a> key, uint32_t value)</td></tr>
<tr class="memdesc:ga3f7f81a16d347bb9917f3dfba2b16167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an option with a CoAP-encoded unsigned integer value. <br/></td></tr>
<tr class="separator:ga3f7f81a16d347bb9917f3dfba2b16167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7670bee5ff837ec734e3a67bd7fd669e"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#ga7670bee5ff837ec734e3a67bd7fd669e">smcp_outbound_set_uri</a> (const char *uri, char flags)</td></tr>
<tr class="memdesc:ga7670bee5ff837ec734e3a67bd7fd669e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the destination URI for the outbound packet.  <a href="#ga7670bee5ff837ec734e3a67bd7fd669e">More...</a><br/></td></tr>
<tr class="separator:ga7670bee5ff837ec734e3a67bd7fd669e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac782682a1de7e76d96555c32a894bd26"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#gac782682a1de7e76d96555c32a894bd26">smcp_outbound_get_content_ptr</a> (coap_size_t *max_len)</td></tr>
<tr class="memdesc:gac782682a1de7e76d96555c32a894bd26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the pointer to the content section of the outbound packet.  <a href="#gac782682a1de7e76d96555c32a894bd26">More...</a><br/></td></tr>
<tr class="separator:gac782682a1de7e76d96555c32a894bd26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a8bb0b91e834ef5b906b1355424fd78"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5a8bb0b91e834ef5b906b1355424fd78"></a>
SMCP_API_EXTERN coap_size_t&#160;</td><td class="memItemRight" valign="bottom"><b>smcp_outbound_get_space_remaining</b> (void)</td></tr>
<tr class="separator:ga5a8bb0b91e834ef5b906b1355424fd78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33a42c0f0bcc8bc1dea20b2d76e04a0d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga33a42c0f0bcc8bc1dea20b2d76e04a0d"></a>
SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#ga33a42c0f0bcc8bc1dea20b2d76e04a0d">smcp_outbound_set_content_len</a> (coap_size_t len)</td></tr>
<tr class="memdesc:ga33a42c0f0bcc8bc1dea20b2d76e04a0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the actual length of the content. Called after <a class="el" href="group__smcp-outbound.html#gac782682a1de7e76d96555c32a894bd26" title="Retrieves the pointer to the content section of the outbound packet. ">smcp_outbound_get_content_ptr()</a>. <br/></td></tr>
<tr class="separator:ga33a42c0f0bcc8bc1dea20b2d76e04a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0d3046c1d1722f7f65ee79c022c72dd"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#gae0d3046c1d1722f7f65ee79c022c72dd">smcp_outbound_append_content</a> (const char *value, coap_size_t len)</td></tr>
<tr class="memdesc:gae0d3046c1d1722f7f65ee79c022c72dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append the given data to the end of the packet.  <a href="#gae0d3046c1d1722f7f65ee79c022c72dd">More...</a><br/></td></tr>
<tr class="separator:gae0d3046c1d1722f7f65ee79c022c72dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d18a5a26b2f9f99fc8c87fb4e6759b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7d18a5a26b2f9f99fc8c87fb4e6759b8"></a>
SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#ga7d18a5a26b2f9f99fc8c87fb4e6759b8">smcp_outbound_set_content_formatted</a> (const char *fmt,...)</td></tr>
<tr class="memdesc:ga7d18a5a26b2f9f99fc8c87fb4e6759b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to the content of the outbound message <code>printf</code> style. <br/></td></tr>
<tr class="separator:ga7d18a5a26b2f9f99fc8c87fb4e6759b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52d4a8a44b599a1578b8c5ce68dd1555"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#ga52d4a8a44b599a1578b8c5ce68dd1555">smcp_outbound_send</a> (void)</td></tr>
<tr class="memdesc:ga52d4a8a44b599a1578b8c5ce68dd1555"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the outbound packet.  <a href="#ga52d4a8a44b599a1578b8c5ce68dd1555">More...</a><br/></td></tr>
<tr class="separator:ga52d4a8a44b599a1578b8c5ce68dd1555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga986a6dbdd59e4b4a8f5a3df9d8a55fd1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga986a6dbdd59e4b4a8f5a3df9d8a55fd1"></a>
SMCP_API_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#ga986a6dbdd59e4b4a8f5a3df9d8a55fd1">smcp_outbound_drop</a> (void)</td></tr>
<tr class="memdesc:ga986a6dbdd59e4b4a8f5a3df9d8a55fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function to simply drop a packet. <br/></td></tr>
<tr class="separator:ga986a6dbdd59e4b4a8f5a3df9d8a55fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88337757928a994c7460830133af920d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga88337757928a994c7460830133af920d"></a>
SMCP_API_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><b>smcp_outbound_reset</b> (void)</td></tr>
<tr class="separator:ga88337757928a994c7460830133af920d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6177661bc055d26bd2745272dc2e9eb"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#gab6177661bc055d26bd2745272dc2e9eb">smcp_outbound_set_msg_id</a> (coap_msg_id_t tid)</td></tr>
<tr class="memdesc:gab6177661bc055d26bd2745272dc2e9eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the msg_id on the outbound packet.  <a href="#gab6177661bc055d26bd2745272dc2e9eb">More...</a><br/></td></tr>
<tr class="separator:gab6177661bc055d26bd2745272dc2e9eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55483f15ea17d770c3918d558e37fba8"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#ga55483f15ea17d770c3918d558e37fba8">smcp_outbound_set_token</a> (const uint8_t *token, uint8_t token_length)</td></tr>
<tr class="memdesc:ga55483f15ea17d770c3918d558e37fba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the token on the outbound packet.  <a href="#ga55483f15ea17d770c3918d558e37fba8">More...</a><br/></td></tr>
<tr class="separator:ga55483f15ea17d770c3918d558e37fba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa75fa974593e2518e30f98aac7e8ce99"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa75fa974593e2518e30f98aac7e8ce99"></a>
SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-outbound.html#gaa75fa974593e2518e30f98aac7e8ce99">smcp_outbound_quick_response</a> (coap_code_t code, const char *body)</td></tr>
<tr class="memdesc:gaa75fa974593e2518e30f98aac7e8ce99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Useful for indicating errors. <br/></td></tr>
<tr class="separator:gaa75fa974593e2518e30f98aac7e8ce99"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions are for constructing outbound CoAP messages from an SMCP callback. </p>
<p>Calling these functions from outside of an SMCP callback is an error. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga173aeb66d286e557a67cc81cd7c45fba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN smcp_status_t smcp_outbound_add_option </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__coap.html#ga7fdbb66204b4278300589317c30f88e4">coap_option_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">coap_size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the given option to the outbound packet. </p>
<p>Tip: If <code>value</code> is a c-string, simply pass SMCP_CSTR_LEN as the value for <code>len</code> to avoid needing to explicitly call <code>strlen()</code>.</p>
<dl class="section note"><dt>Note</dt><dd>It is <em>much</em> faster to add options in numerical order than randomly. Whenever possible, add options in increasing order. </dd></dl>

</div>
</div>
<a class="anchor" id="gae0d3046c1d1722f7f65ee79c022c72dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN smcp_status_t smcp_outbound_append_content </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">coap_size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Append the given data to the end of the packet. </p>
<p>This function automatically updates the content length. </p>

</div>
</div>
<a class="anchor" id="ga5947f37f67c15d026748eddde7a7f06a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN smcp_status_t smcp_outbound_begin_response </td>
          <td>(</td>
          <td class="paramtype">coap_code_t&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the outbound packet as a response to the current inbound packet. </p>
<p>This function automatically makes sure that the destination address, msg_id, and token are properly set up. </p>

</div>
</div>
<a class="anchor" id="gac782682a1de7e76d96555c32a894bd26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN char* smcp_outbound_get_content_ptr </td>
          <td>(</td>
          <td class="paramtype">coap_size_t *&#160;</td>
          <td class="paramname"><em>max_len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the pointer to the content section of the outbound packet. </p>
<p>If you need to add content to your outbound message, call this function and write your content to the location indicated by the returned pointer. Do not write more than the number of bytes indicated in <code>max_len</code>.</p>
<p>After writing your data (or before, it doesn't really matter), use <a class="el" href="group__smcp-outbound.html#ga33a42c0f0bcc8bc1dea20b2d76e04a0d" title="Sets the actual length of the content. Called after smcp_outbound_get_content_ptr(). ">smcp_outbound_set_content_len()</a> to indicate the length of the content.</p>
<dl class="section warning"><dt>Warning</dt><dd>After the following function is called you cannot add any more options without losing the content. Add all of your options first! </dd></dl>

</div>
</div>
<a class="anchor" id="ga52d4a8a44b599a1578b8c5ce68dd1555"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN smcp_status_t smcp_outbound_send </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends the outbound packet. </p>
<p>After calling this function, you are done for this callback. You may not call any other smcp_outbound_* functions. You may only send one outbound packet per callback. </p>

</div>
</div>
<a class="anchor" id="gaf7e84fb9ebff8b14a8c947e036c8b5bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN smcp_status_t smcp_outbound_set_destaddr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsmcp__sockaddr__t.html">smcp_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>sockaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the destination address and port. </p>
<p>Not necessary if you called <a class="el" href="group__smcp-outbound.html#ga5947f37f67c15d026748eddde7a7f06a" title="Sets up the outbound packet as a response to the current inbound packet. ">smcp_outbound_begin_response()</a>. </p>

</div>
</div>
<a class="anchor" id="gab6177661bc055d26bd2745272dc2e9eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN smcp_status_t smcp_outbound_set_msg_id </td>
          <td>(</td>
          <td class="paramtype">coap_msg_id_t&#160;</td>
          <td class="paramname"><em>tid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the msg_id on the outbound packet. </p>
<dl class="section note"><dt>Note</dt><dd>In most cases msg_ids are handled automatically. You do not normally need to call this. </dd></dl>

</div>
</div>
<a class="anchor" id="ga55483f15ea17d770c3918d558e37fba8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN smcp_status_t smcp_outbound_set_token </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>token_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the token on the outbound packet. </p>
<dl class="section note"><dt>Note</dt><dd>In most cases tokens are handled automatically. You do not normally need to call this. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7670bee5ff837ec734e3a67bd7fd669e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN smcp_status_t smcp_outbound_set_uri </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the destination URI for the outbound packet. </p>
<p>If the URL is not directly reachable and a proxy URL has been defined, this function will automatically use the proxy. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 5 2014 14:42:33 for smcp by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
