<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>smcp: Instance Methods</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">smcp
   </div>
   <div id="projectbrief">A Portable Light-weight CoAP Stack</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Instance Methods<div class="ingroups"><a class="el" href="group__smcp.html">SMCP</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Initializing, Configuring, and Releasing the SMCP instance.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa1fd3b7417a5606f88ddd440d535249e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa1fd3b7417a5606f88ddd440d535249e"></a>
SMCP_API_EXTERN <a class="el" href="structsmcp__s.html">smcp_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-instance.html#gaa1fd3b7417a5606f88ddd440d535249e">smcp_init</a> (<a class="el" href="structsmcp__s.html">smcp_t</a> self, uint16_t port)</td></tr>
<tr class="memdesc:gaa1fd3b7417a5606f88ddd440d535249e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an SMCP instance. <br/></td></tr>
<tr class="separator:gaa1fd3b7417a5606f88ddd440d535249e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e8815b8cc0c3e475655bfbf36ebd131"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7e8815b8cc0c3e475655bfbf36ebd131"></a>
SMCP_API_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-instance.html#ga7e8815b8cc0c3e475655bfbf36ebd131">smcp_release</a> (<a class="el" href="structsmcp__s.html">smcp_t</a> self)</td></tr>
<tr class="memdesc:ga7e8815b8cc0c3e475655bfbf36ebd131"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases an SMCP instance, closing all ports and ending all transactions. <br/></td></tr>
<tr class="separator:ga7e8815b8cc0c3e475655bfbf36ebd131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c243d1a6384e26959cd083902ff181a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0c243d1a6384e26959cd083902ff181a"></a>
SMCP_API_EXTERN uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-instance.html#ga0c243d1a6384e26959cd083902ff181a">smcp_get_port</a> (<a class="el" href="structsmcp__s.html">smcp_t</a> self)</td></tr>
<tr class="memdesc:ga0c243d1a6384e26959cd083902ff181a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current listening port of the instance in host order. <br/></td></tr>
<tr class="separator:ga0c243d1a6384e26959cd083902ff181a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42652e93339da21535d54c6a20ca28a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga42652e93339da21535d54c6a20ca28a3"></a>
SMCP_API_EXTERN <a class="el" href="structsmcp__s.html">smcp_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-instance.html#ga42652e93339da21535d54c6a20ca28a3">smcp_get_current_instance</a> (void)</td></tr>
<tr class="memdesc:ga42652e93339da21535d54c6a20ca28a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used from inside of callbacks to obtain a reference to the current instance. <br/></td></tr>
<tr class="separator:ga42652e93339da21535d54c6a20ca28a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f5c0c5dce0909932154957a22c0592f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5f5c0c5dce0909932154957a22c0592f"></a>
SMCP_API_EXTERN <a class="el" href="structsmcp__s.html">smcp_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-instance.html#ga5f5c0c5dce0909932154957a22c0592f">smcp_create</a> (uint16_t port)</td></tr>
<tr class="memdesc:ga5f5c0c5dce0909932154957a22c0592f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates and initializes an SMCP instance. <br/></td></tr>
<tr class="separator:ga5f5c0c5dce0909932154957a22c0592f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc8e684815841d2298b60e4f6ce9a775"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-instance.html#gafc8e684815841d2298b60e4f6ce9a775">smcp_set_proxy_url</a> (<a class="el" href="structsmcp__s.html">smcp_t</a> self, const char *url)</td></tr>
<tr class="memdesc:gafc8e684815841d2298b60e4f6ce9a775"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the URL to use as a CoAP proxy.  <a href="#gafc8e684815841d2298b60e4f6ce9a775">More...</a><br/></td></tr>
<tr class="separator:gafc8e684815841d2298b60e4f6ce9a775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8cee0f3da0462536da4304d5358a43d"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-instance.html#gad8cee0f3da0462536da4304d5358a43d">smcp_set_default_request_handler</a> (<a class="el" href="structsmcp__s.html">smcp_t</a> self, smcp_request_handler_func request_handler, void *context)</td></tr>
<tr class="memdesc:gad8cee0f3da0462536da4304d5358a43d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the default request handler.  <a href="#gad8cee0f3da0462536da4304d5358a43d">More...</a><br/></td></tr>
<tr class="separator:gad8cee0f3da0462536da4304d5358a43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9aea42dd7fb7cd2c7750682066299760"><td class="memItemLeft" align="right" valign="top">SMCP_API_EXTERN smcp_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__smcp-instance.html#ga9aea42dd7fb7cd2c7750682066299760">smcp_vhost_add</a> (<a class="el" href="structsmcp__s.html">smcp_t</a> self, const char *name, smcp_request_handler_func request_handler, void *context)</td></tr>
<tr class="separator:ga9aea42dd7fb7cd2c7750682066299760"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Initializing, Configuring, and Releasing the SMCP instance. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad8cee0f3da0462536da4304d5358a43d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN void smcp_set_default_request_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmcp__s.html">smcp_t</a>&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">smcp_request_handler_func&#160;</td>
          <td class="paramname"><em>request_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the default request handler. </p>
<p>Whenever the instance receives a request that isn't directed at a recognised vhost or is intended for a proxy, this callback will be called.</p>
<p>If the inbound message is confirmable and you don't end up sending a response from the callback, a response packet is generated based on the return value of the callback. </p>

</div>
</div>
<a class="anchor" id="gafc8e684815841d2298b60e4f6ce9a775"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN void smcp_set_proxy_url </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmcp__s.html">smcp_t</a>&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the URL to use as a CoAP proxy. </p>
<p>The proxy is used whenever the scheme is unrecognised or the host does not appear to be directly reachable.</p>
<p>If SMCP_AVOID_MALLOC and SMCP_EMBEDDED are set then the string IS NOT COPIED and used as is. If you are building on an embedded platform, don't pass in strings that are in temporary memory or that live on the stack. </p>

</div>
</div>
<a class="anchor" id="ga9aea42dd7fb7cd2c7750682066299760"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMCP_API_EXTERN smcp_status_t smcp_vhost_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmcp__s.html">smcp_t</a>&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">smcp_request_handler_func&#160;</td>
          <td class="paramname"><em>request_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a virtual host that will use the given request handler instead of the default one.</p>
<p>This can also be used to implement groups. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request_handler</td><td>^ Hostname of the virtual host </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 5 2014 14:42:33 for smcp by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
